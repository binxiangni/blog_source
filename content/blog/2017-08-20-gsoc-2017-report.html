---
title: GSOC 2017 Report
author: Binxiang Ni
date: '2017-08-20'
---



<div id="project-goals" class="section level2">
<h2>Project Goals</h2>
<ul>
<li>Evaluate which types of sparse matrices can be converted.</li>
<li>Write conversion functions and unit tests for convertible sparse matrices.</li>
<li>Add warning messages for unconvertible sparse matrices.</li>
<li>Provide documentation for sparse matrix support in RcppArmadillo.</li>
</ul>
</div>
<div id="fully-merged-pull-requests" class="section level2">
<h2>Fully Merged Pull Requests</h2>
<p>The source codes of RcppArmadillo is stored in <a href="https://github.com/RcppCore/RcppArmadillo">Github</a>. Below are all the merged pull requests committed by me during <a href="https://developers.google.com/open-source/gsoc/">Google Summer of Code</a>:</p>
<ul>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/135/files">Add support for dtCMatrix and dsCMatrix</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/136/files">Add conversion and unit tests for dgT, dtT and dsTMatrix</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/139/files">Add conversion and unit tests for dgR, dtR and dsRMatrix</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/140/files">Add conversion and unit tests for pMatrix and ddiMatrix</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/142/files">Rewrite conversion for dgT, dtT and dsTMatrix, and add file-based tests</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/144/files">Add conversion and unit tests for indMatrix</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/145/files">Rewrite conversion for ddiMatrix</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/147/files">Add a warning message for matrices that cannot be converted</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/152/files">Add new vignette for sparse matrix support</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/158/files">Add support for sparse matrix conversion from Python SciPy</a>.</li>
</ul>
</div>
<div id="notes-and-comments" class="section level2">
<h2>Notes and Comments</h2>
<ul>
<li>When a new function is added, one corresponding unit test should also be accompanied to verify the assertion.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/135#issuecomment-308569350">How to write a unit test for RcppArmadillo</a>.</li>
<li>About <a href="http://en.cppreference.com/w/cpp/language/static_cast"><code>static_cast</code></a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/135#issuecomment-308627910">The meaning of <code>.</code></a> and <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/ns-dblcolon.html">The difference between <code>::</code> and <code>:::</code></a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/135#issuecomment-308998693">Keeping a decent ChangeLog is important</a>.</li>
<li><a href="https://github.com/mbonaci/mbo-storm/wiki/Integrate-Travis-CI-with-your-GitHub-repo">Travis CI setup</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/136#issuecomment-309278391">A PR at a time</a> to avoid conflicts.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/136#issuecomment-309286287"><code>Merge and squash</code></a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/139#issuecomment-309478465"><code>Rebase</code></a> and <a href="https://github.com/RcppCore/RcppArmadillo/pull/139#issuecomment-309488302"><code>Merge</code></a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/140#issuecomment-309626340">DESCRIPTION file contains all essential information of a package.</a>.</li>
<li>Rcpp uses ‘proxy models’, which may lead to a considerable copying cost when working with <code>Rcpp::IntegerVector</code> rather than <code>std::vector&lt;int&gt;</code>. <a href="https://github.com/RcppCore/RcppArmadillo/pull/140#pullrequestreview-45318881">Reason</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/140#discussion_r123146557">Full consideration</a> on types and property of a sparse matrix.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/142#issuecomment-312998351">Mechanism of RUnit</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/142#issuecomment-313249482">Runit requires every unit test covered in a function</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/144#issuecomment-313882515">Close connection after using <code>textConnection()</code></a></li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/150#issuecomment-319438038">Details in Column Pointer</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/pull/153#issuecomment-319237045">Highlighting</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/issues/134#issuecomment-305604312">Consistent code style</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/issues/141#issuecomment-320439915">Procedures for adding a new R function to RcppArmadillo</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/issues/157#issuecomment-320538179">Ways to check a package</a></li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/issues/157#issuecomment-321234972">Difference between <code>Imports</code> and <code>Suggests</code></a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/issues/161#issuecomment-323467101"><code>is()</code> for S4 object</a>.</li>
<li><a href="https://github.com/RcppCore/RcppArmadillo/issues/163#issuecomment-323504754">Why Rstudio invokes <code>Rcpp::compileAttributes()</code></a>.</li>
</ul>
</div>
<div id="achievements" class="section level2">
<h2>Achievements</h2>
<div id="package" class="section level3">
<h3>Package</h3>
<p>The R package version <a href="https://cran.r-project.org/web/packages/RcppArmadillo/index.html">RcppArmadillo 0.7.960.1.1</a> with enhanced sparse matrix support has been released to CRAN. You can have access to it by <code>install.packages(&quot;RcppArmadillo&quot;)</code> in R.</p>
</div>
<div id="vignettes" class="section level3">
<h3>Vignettes</h3>
<p>An initial <a href="https://github.com/binxiangni/Sparse_Matrix_in_RcppArmadillo/blob/master/RcppArmadillo-sparseMatrix.Rnw">version</a> on sparse matrix support in RcppArmadillo is written by me, and Dirk updated <a href="https://github.com/RcppCore/RcppArmadillo/blob/master/vignettes/RcppArmadillo-sparseMatrix.Rnw">it</a> with the standard ‘Rcpp Style’ in LaTeX. You can have access to more readable vignettes here: <a href="https://github.com/binxiangni/Sparse_Matrix_in_RcppArmadillo/blob/master/RcppArmadillo-sparseMatrix.pdf">Initial</a>, <a href="http://dirk.eddelbuettel.com/tmp/RcppArmadillo-sparseMatrix.pdf">Improved</a>.</p>
</div>
</div>
<div id="future" class="section level2">
<h2>Future</h2>
<p>Although the end of GSOC approaches, I will continue contributing to sparse matrix support in RcppArmadillo in the future. Recently, there will be a new <a href="https://github.com/conradsnicta/armadillo-code/issues/13">compatibility</a> for <a href="https://en.wikipedia.org/wiki/Sparse_matrix#Coordinate_list_.28COO.29">COO</a> format in Armadillo, more sparse matrix conversion will be needed on the side of RcppArmadillo.</p>
<p>Moreover, time for me to learn more on sparse matrix algorithms and Rcpp. Hopefully, I can participate in other development or projects on them.</p>
</div>
<div id="acknowledgement" class="section level2">
<h2>Acknowledgement</h2>
<p>Quite a lot has been acuqired from the instructions and inspiration of <a href="https://github.com/eddelbuettel">Dirk</a>, <a href="https://github.com/thirdwing">KK</a>, <a href="https://github.com/coatless">James</a> and many other open source contributors during this cool Google Summer of Code. Big thanks for their mentoring.</p>
</div>
